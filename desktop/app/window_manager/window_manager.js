const electron=require("electron"),{BrowserWindow:BrowserWindow,Menu:Menu}=require("electron"),log=require("electron-log");class WindowManager{constructor(){this.windows={},this.counter=0}findWindowById(o){return this.windows[o]}generateId(){const o=`window_${this.counter}`;return++this.counter,o}create(o,{id:n=null,url:e=`file://${__dirname}/404.html`,model:i={},autoShow:s=!0}={}){n||(n=this.generateId()),this.hasWindow(n)?this.windows[n].focus():(this.windows[n]=new BrowserWindow(o),this.windows[n].loadURL(e),this.windows[n].once("ready-to-show",()=>{s&&this.windows[n].show(),this.windows[n].webContents.send("model",i)}),this.windows[n].once("closed",()=>{this.removeWindow(n)}))}hasWindow(o){return!!this.windows[o]}closeWindow(o){this.hasWindow(o)&&this.findWindowById(o).close()}removeWindow(o){delete this.windows[o]}showWindow(o){log.debug("showWindow "+o),this.hasWindow(o)&&this.findWindowById(o).show()}}const windowManager=new WindowManager;module.exports=windowManager;